config {}

image IMAGE.img {
	hdimage {
		align = "1M"
		partition-table-type = "gpt"
	}

	partition part_idbloader {
		in-partition-table = "no"
		image = "boot/idbloader.img"
		offset = 32K
	}

	partition part_uboot {
		in-partition-table = "no"
		image = "boot/uboot.img"
		offset = 8M
	}

	partition part_trust {
		in-partition-table = "no"
		image = "boot/resource.img"
		offset = 12M
	}

	partition EMUELEC {
		image = "EMUELEC.vfat"
		offset = 16M
		size = 512M
		partition-type-uuid = "fat32"
	}

	partition storage {
		image = "storage.ext4"
		size = 1024M
	}

	partition ROMS {
		image = "ROMS.ext4"
		size = 16M
		partition-type-uuid = "fat32"
	}
}

image EMUELEC.vfat {
        name = "EMUELEC"
        size = 512M
        srcpath = "tmp/pixel2-base/EMUELEC/"
        vfat {
			extraargs = "-F 32"
        }
}

image storage.ext4 {
        name = "storage"
        size = 1024M
        srcpath = "tmp/pixel2-base/storage/"
        ext4 {
			label = "storage"
        }
}

image ROMS.ext4 {
        name = "ROMS"
        size = 16M
        empty = true
        ext4 {
			label = "ROMS"
        }
}
